/* Select component structural styles - based on Input component */
.themed-select {
    display: block;
    width: 100%; /* Take full width of container */
    height: 2.5rem; /* 40px - default size */
    padding: 0 var(--spacing-md);
    margin: var(--spacing-sm) 0;
    border: 1px solid transparent;
    border-radius: var(--input-radius, var(--border-radius-md));
    font-size: var(--font-size-sm);
    font-family: var(--font-family, var(--font-family-normal));
    background-color: var(--surface-color, var(--background-color));
    color: var(--text-color);
    transition: all var(--transition-fast);
    align-items: center;
    appearance: none;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    cursor: pointer;
}

/* Searchable select input styles */
.themed-select.searchable-select {
    background-image: none; /* Remove default arrow for searchable inputs */
    cursor: text;
}

.themed-select.searchable-select[readonly] {
    cursor: pointer;
}

.themed-select:focus {
    outline: none;
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--select-accent-color), transparent 80%);
    border-color: var(--select-accent-color);
}

.themed-select:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* Accent color configuration */
.select-container,
.select-input-container,
.themed-select,
.select-help-text,
.select-label {
    --select-accent-color: var(--primary-color);
}

.select-color-primary {
    --select-accent-color: var(--primary-color);
}

.select-color-secondary {
    --select-accent-color: var(--secondary-color);
}

.select-color-tertiary {
    --select-accent-color: var(--tertiary-color);
}

.select-container {
    position: relative;
    border-radius: var(--input-radius, var(--border-radius-md));
}

/* Input container for searchable select */
.select-input-container {
    position: relative;
    display: flex;
    align-items: center;
}

/* Dropdown arrow for searchable select */
.select-dropdown-arrow {
    position: absolute;
    right: 0.5rem;
    pointer-events: none;
    color: var(--select-accent-color);
    transition: transform var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
}

.select-dropdown-arrow-open {
    transform: rotate(180deg);
}

/* Dropdown list styles */
.select-dropdown {
    position: absolute;
    z-index: var(--z-select-dropdown, 10000);
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--surface-color, var(--background-color));
    border: 1px solid var(--border-color);
    border-radius: var(--input-radius, var(--border-radius-md));
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    max-height: 200px;
    overflow-y: auto;
}

.select-option {
    padding: var(--spacing-xs) var(--spacing-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
    color: var(--text-color);
    border-bottom: 1px solid var(--border-color-light, rgba(0, 0, 0, 0.05));
}

.select-option:last-child {
    border-bottom: none;
}

.select-option:hover,
.select-option-focused {
    background-color: color-mix(in srgb, var(--select-accent-color), transparent 85%);
    color: var(--select-accent-color);
}

.select-option-disabled {
    opacity: 0.6;
    cursor: not-allowed;
    color: var(--text-muted);
}

.select-option-disabled:hover {
    background-color: transparent;
    color: var(--text-muted);
}

/* Select option size variants */
.select-option-small {
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: var(--font-size-xs);
}

.select-option-large {
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: var(--font-size-sm);
}

.select-no-options {
    padding: var(--spacing-md);
    text-align: center;
    color: var(--text-muted);
    font-style: italic;
}

/* No options size variants */
.select-no-options.select-option-small {
    padding: var(--spacing-sm);
    font-size: 0.625rem;
}

.select-no-options.select-option-large {
    padding: var(--spacing-lg);
    font-size: var(--font-size-sm);
}

/* ===== Responsive Size System ===== */
/* Matches Button and Input component sizing exactly for visual consistency */
/* Breakpoints: 480px (smallâ†’large phones), 768px (tablet portrait), 1025px (desktop), 1440px (large desktop) */

/* Mobile base styles (< 480px) - Extra compact for small phones */
.themed-select.select-xs {
    height: 1.25rem;        /* 20px */
    padding: 0 0.375rem;    /* 6px */
    padding-right: 1.5rem;  /* Space for dropdown arrow */
    font-size: 0.625rem;    /* 10px */
}

.themed-select.select-sm {
    height: 1.5rem;         /* 24px */
    padding: 0 0.5rem;      /* 8px */
    padding-right: 1.75rem;
    font-size: 0.6875rem;   /* 11px */
}

.themed-select.select-md {
    height: 1.875rem;       /* 30px */
    padding: 0 0.625rem;    /* 10px */
    padding-right: 2rem;
    font-size: 0.75rem;     /* 12px */
}

.themed-select.select-lg {
    height: 2rem;           /* 32px */
    padding: 0 0.75rem;     /* 12px */
    padding-right: 2.125rem;
    font-size: 0.8125rem;   /* 13px */
}

.themed-select.select-xl {
    height: 2.25rem;        /* 36px */
    padding: 0 0.875rem;    /* 14px */
    padding-right: 2.375rem;
    font-size: 0.875rem;    /* 14px */
}

/* Large phone adjustments (480px - 767px) - Slightly larger for standard phones */
@media (min-width: 480px) {
    .themed-select.select-xs {
        height: 1.5rem;         /* 24px */
        padding: 0 0.5rem;      /* 8px */
        padding-right: 1.75rem;
        font-size: 0.6875rem;   /* 11px */
    }

    .themed-select.select-sm {
        height: 1.75rem;        /* 28px */
        padding: 0 0.625rem;    /* 10px */
        padding-right: 2rem;
        font-size: 0.75rem;     /* 12px */
    }

    .themed-select.select-md {
        height: 2rem;           /* 32px */
        padding: 0 0.75rem;     /* 12px */
        padding-right: 2.125rem;
        font-size: 0.8125rem;   /* 13px */
    }

    .themed-select.select-lg {
        height: 2.25rem;        /* 36px */
        padding: 0 0.875rem;    /* 14px */
        padding-right: 2.375rem;
        font-size: 0.875rem;    /* 14px */
    }

    .themed-select.select-xl {
        height: 2.5rem;         /* 40px */
        padding: 0 1rem;        /* 16px */
        padding-right: 2.625rem;
        font-size: 0.9375rem;   /* 15px */
    }
}

/* Tablet adjustments (768px - 1024px) - Moderately sized for comfortable interaction */
@media (min-width: 768px) {
    .themed-select.select-xs {
        height: 1.75rem;        /* 28px */
        padding: 0 0.75rem;     /* 12px */
        padding-right: 2rem;
        font-size: 0.75rem;     /* 12px */
    }

    .themed-select.select-sm {
        height: 2rem;           /* 32px */
        padding: 0 0.875rem;    /* 14px */
        padding-right: 2.125rem;
        font-size: 0.8125rem;   /* 13px */
    }

    .themed-select.select-md {
        height: 2.25rem;        /* 36px */
        padding: 0 1rem;        /* 16px */
        padding-right: 2.375rem;
        font-size: 0.875rem;    /* 14px */
    }

    .themed-select.select-lg {
        height: 2.5rem;         /* 40px */
        padding: 0 1.125rem;    /* 18px */
        padding-right: 2.625rem;
        font-size: 0.9375rem;   /* 15px */
    }

    .themed-select.select-xl {
        height: 2.875rem;       /* 46px */
        padding: 0 1.375rem;    /* 22px */
        padding-right: 3rem;
        font-size: 1rem;        /* 16px */
    }
}

/* Desktop adjustments (1025px - 1439px) - Spacious for optimal desktop experience */
@media (min-width: 1025px) {
    .themed-select.select-xs {
        height: 2rem;           /* 32px */
        padding: 0 0.875rem;    /* 14px */
        padding-right: 2.125rem;
        font-size: 0.8125rem;   /* 13px */
    }

    .themed-select.select-sm {
        height: 2.25rem;        /* 36px */
        padding: 0 1rem;        /* 16px */
        padding-right: 2.375rem;
        font-size: 0.875rem;    /* 14px */
    }

    .themed-select.select-md {
        height: 2.5rem;         /* 40px */
        padding: 0 1.125rem;    /* 18px */
        padding-right: 2.625rem;
        font-size: 0.9375rem;   /* 15px */
    }

    .themed-select.select-lg {
        height: 2.75rem;        /* 44px */
        padding: 0 1.375rem;    /* 22px */
        padding-right: 2.875rem;
        font-size: 1rem;        /* 16px */
    }

    .themed-select.select-xl {
        height: 3.125rem;       /* 50px */
        font-size: 1.0625rem;   /* 17px */
        padding: 0 1.625rem;    /* 26px */
        padding-right: 3.25rem;
    }
}

/* Large desktop adjustments (>= 1440px) - Extra spacious for large monitors */
@media (min-width: 1440px) {
    .themed-select.select-xs {
        height: 2.125rem;       /* 34px */
        padding: 0 1rem;        /* 16px */
        padding-right: 2.25rem;
        font-size: 0.875rem;    /* 14px */
    }

    .themed-select.select-sm {
        height: 2.375rem;       /* 38px */
        padding: 0 1.125rem;    /* 18px */
        padding-right: 2.5rem;
        font-size: 0.9375rem;   /* 15px */
    }

    .themed-select.select-md {
        height: 2.75rem;        /* 44px */
        padding: 0 1.25rem;     /* 20px */
        padding-right: 2.875rem;
        font-size: 1rem;        /* 16px */
    }

    .themed-select.select-lg {
        height: 3rem;           /* 48px */
        padding: 0 1.5rem;      /* 24px */
        padding-right: 3.125rem;
        font-size: 1.0625rem;   /* 17px */
    }

    .themed-select.select-xl {
        height: 3.5rem;         /* 56px */
        font-size: 1.125rem;    /* 18px */
        padding: 0 1.875rem;    /* 30px */
        padding-right: 3.625rem;
    }
}

/* Size variants for multi-select */
.themed-select.select-xs.searchable-select {
    height: 1.75rem;
}

.themed-select.select-sm.searchable-select {
    height: 2rem;
}

.themed-select.select-md.searchable-select {
    height: 2.5rem;
}

.themed-select.select-lg.searchable-select {
    height: 3rem;
}

.themed-select.select-xl.searchable-select {
    height: 3.5rem;
}

/* Flex fill styles */
.themed-select.select-flex-fill {
    flex: 1;
}

.select-container.select-container-flex-fill {
    flex: 1;
}

/* Variant styles */
.themed-select.themed-select-default {
    background-color: var(--surface-color, var(--background-color));
    border: 1px solid color-mix(in srgb, var(--select-accent-color), transparent 40%);
}

.themed-select.themed-select-outline {
    background-color: transparent;
    border: 2px solid var(--select-accent-color);
}

.themed-select.themed-select-filled {
    background-color: color-mix(in srgb, var(--select-accent-color), transparent 85%);
    border: 2px solid transparent;
}

.themed-select.themed-select-underline {
    background-color: transparent;
    border: none;
    border-bottom: 2px solid color-mix(in srgb, var(--select-accent-color), transparent 35%);
    border-radius: 0;
    padding-left: var(--spacing-sm);
    padding-right: 2rem;
    background-image: linear-gradient(var(--select-accent-color), var(--select-accent-color));
    background-repeat: no-repeat;
    background-position: left bottom;
    background-size: 0% 2px;
    transition: background-size var(--transition-fast), border-color var(--transition-fast), color var(--transition-fast);
}

.themed-select.themed-select-underline.select-focused {
    border-bottom-color: var(--select-accent-color);
    background-size: 100% 2px;
    box-shadow: none;
}

/* State styles */
.themed-select.select-focused {
    border-color: var(--select-accent-color);
}

.themed-select.select-error {
    border-color: var(--error-color) !important;
    background-color: var(--error-background, rgba(239, 68, 68, 0.05)) !important;
}

.themed-select.select-error:focus {
    box-shadow: 0 0 0 3px var(--error-focus-shadow, rgba(239, 68, 68, 0.15)) !important;
    border-color: var(--error-color) !important;
}

.themed-select.select-success {
    border-color: var(--success-color) !important;
    background-color: var(--success-background, rgba(16, 185, 129, 0.05)) !important;
}

.themed-select.select-success:focus {
    box-shadow: 0 0 0 3px var(--success-focus-shadow, rgba(16, 185, 129, 0.15)) !important;
    border-color: var(--success-color) !important;
}

.themed-select.select-warning {
    border-color: var(--warning-color) !important;
    background-color: var(--warning-background, rgba(245, 158, 11, 0.05)) !important;
}

.themed-select.select-warning:focus {
    box-shadow: 0 0 0 3px var(--warning-focus-shadow, rgba(245, 158, 11, 0.15)) !important;
    border-color: var(--warning-color) !important;
}

.themed-select.select-disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* Label styles */
.select-label {
    display: block;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    font-family: var(--font-family-medium, var(--font-family));
    color: var(--text-color);
}

/* Help text styles */
.select-help-text {
    display: block;
    margin: 0;
    font-size: var(--font-size-xs);
    font-family: var(--font-family, var(--font-family-normal));
    line-height: var(--line-height-normal);
    padding: 0;
    background-color: transparent;
    color: var(--text-muted);
}

.select-help-text.select-help-text-error {
    color: var(--error-color) !important;
    font-weight: var(--font-weight-medium);
}

.select-help-text.select-help-text-success {
    color: var(--success-color) !important;
    font-weight: var(--font-weight-medium);
}

.select-help-text.select-help-text-warning {
    color: var(--warning-color) !important;
    font-weight: var(--font-weight-medium);
}

/* Select help text size variants */
.select-help-text.help-text-xs {
    font-size: 0.625rem;
    padding: 0;
}

.select-help-text.help-text-sm {
    font-size: 0.625rem;
    padding: 0;
}

.select-help-text.help-text-md {
    font-size: var(--font-size-xs);
    padding: 0;
}

.select-help-text.help-text-lg {
    font-size: var(--font-size-sm);
    padding: 0;
}

.select-help-text.help-text-xl {
    font-size: var(--font-size-sm);
    padding: 0;
}

.select-required {
    color: var(--error-color);
    margin-left: var(--spacing-xs);
}

/* JustifySelf utility classes for Select components */
.select-container.justify-self-auto {
    justify-self: auto;
}

.select-container.justify-self-start {
    justify-self: start;
}

.select-container.justify-self-end {
    justify-self: end;
}

.select-container.justify-self-center {
    justify-self: center;
}

.select-container.justify-self-stretch {
    justify-self: stretch;
}

/* Multi-select badge styles */
.select-badges-container {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) 0;
    margin: var(--spacing-sm) 0;
    min-height: 1.5rem;
    align-items: flex-start;
    position: absolute;
    top: 0;
    left: var(--spacing-md);
    right: var(--spacing-md);
    /* Leave space for dropdown arrow */
    background-color: transparent;
    pointer-events: none; /* Allow clicks to pass through to input */
    z-index: 1; /* Above input field but below dropdown */
}

/* XS size badge container positioning */
.select-input-container .themed-select.select-xs ~ .select-badges-container,
.select-input-container.has-badges .themed-select.select-xs ~ .select-badges-container {
    padding: calc(var(--spacing-xs) / 2) 0;
    margin: var(--spacing-xs) 0;
    top: calc(var(--spacing-xs) / 2);
    left: var(--spacing-xs);
    right: calc(1.75rem + var(--spacing-xs));
    min-height: 1.125rem;
}

/* SM size badge container positioning */
.select-input-container .themed-select.select-sm ~ .select-badges-container,
.select-input-container.has-badges .themed-select.select-sm ~ .select-badges-container {
    padding: calc(var(--spacing-xs) / 2) 0;
    margin: var(--spacing-xs) 0;
    top: calc(var(--spacing-xs) / 2);
    left: var(--spacing-sm);
    right: calc(2rem + var(--spacing-sm));
    min-height: 1.25rem;
}

/* MD size badge container positioning */
.select-input-container .themed-select.select-md ~ .select-badges-container,
.select-input-container.has-badges .themed-select.select-md ~ .select-badges-container {
    padding: var(--spacing-xs) 0;
    margin: var(--spacing-sm) 0;
    top: var(--spacing-xs);
    left: var(--spacing-md);
    right: calc(2.5rem + var(--spacing-md));
    min-height: 1.5rem;
}

/* LG size badge container positioning */
.select-input-container .themed-select.select-lg ~ .select-badges-container,
.select-input-container.has-badges .themed-select.select-lg ~ .select-badges-container {
    padding: var(--spacing-sm) 0;
    top: var(--spacing-sm);
    left: var(--spacing-lg);
    right: calc(3rem + var(--spacing-lg));
    min-height: 1.75rem;
    gap: var(--spacing-sm);
}

/* XL size badge container positioning */
.select-input-container .themed-select.select-xl ~ .select-badges-container,
.select-input-container.has-badges .themed-select.select-xl ~ .select-badges-container {
    padding: var(--spacing-sm) 0;
    top: var(--spacing-sm);
    left: var(--spacing-lg);
    right: calc(3.5rem + var(--spacing-lg));
    min-height: 2rem;
    gap: var(--spacing-sm);
}

.select-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    pointer-events: auto; /* Allow badge interactions */
}

/* Badge size variants based on select size */
.select-input-container .themed-select.select-xs ~ .select-badges-container .select-badge,
.select-input-container .themed-select.select-sm ~ .select-badges-container .select-badge {
    font-size: 0.625rem; /* Extra small for xs/sm select */
}

.select-input-container .themed-select.select-lg ~ .select-badges-container .select-badge,
.select-input-container .themed-select.select-xl ~ .select-badges-container .select-badge {
    font-size: var(--font-size-sm); /* Larger for lg/xl select */
    gap: var(--spacing-sm);
}

.select-badge-remove {
    cursor: pointer;
    opacity: 0.7;
    transition: opacity var(--transition-fast);
    margin-left: var(--spacing-xs);
    padding: 2px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.select-badge-remove:hover {
    opacity: 1;
    background-color: rgba(255, 255, 255, 0.2);
}

/* Multi-select input adjustments are now handled dynamically by JavaScript */

/* Multi-select option content */
.select-option-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    gap: var(--spacing-sm);
}

.select-option-badge {
    flex: 1;
}

.select-option-selected {
    background-color: var(--surface-accent-color, rgba(59, 130, 246, 0.1));
}
