/* ===== CircularProgress Component CSS ===== */
/* Animated circular loading indicator with pure rotation animation */

.circular-progress,
.themed-circular-progress {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

/* ===== SVG Container ===== */
.circular-progress-svg {
    display: block;
}

/* ===== Track (Background Circle) ===== */
.circular-progress-track {
    stroke: var(--surface-accent-color);
    opacity: 0.3;
}

/* ===== Progress Bar (Animated Circle) ===== */
.circular-progress-bar {
    stroke: var(--primary-color);
    stroke-linecap: round;
    animation: circular-progress-rotate 1.4s ease-in-out infinite;
    transform-origin: center;
}

/* Default size uses the base animation */
.circular-progress-default .circular-progress-bar {
    animation: circular-progress-rotate 1.4s ease-in-out infinite;
}

/* ===== Rotation Animation ===== */
@keyframes circular-progress-rotate {
    0% {
        transform: rotate(-90deg);
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -35;
    }
    100% {
        transform: rotate(-90deg);
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -124;
    }
}

/* ===== Size-specific animations for varying dash lengths ===== */
.circular-progress-small .circular-progress-bar {
    animation: circular-progress-rotate-small 1.4s ease-in-out infinite;
}

@keyframes circular-progress-rotate-small {
    0% {
        transform: rotate(-90deg);
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 45, 200;
        stroke-dashoffset: -25;
    }
    100% {
        transform: rotate(-90deg);
        stroke-dasharray: 45, 200;
        stroke-dashoffset: -90;
    }
}

.circular-progress-large .circular-progress-bar {
    animation: circular-progress-rotate-large 1.4s ease-in-out infinite;
}

@keyframes circular-progress-rotate-large {
    0% {
        transform: rotate(-90deg);
        stroke-dasharray: 1, 300;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 140, 300;
        stroke-dashoffset: -50;
    }
    100% {
        transform: rotate(-90deg);
        stroke-dasharray: 140, 300;
        stroke-dashoffset: -180;
    }
}

.circular-progress-xl .circular-progress-bar {
    animation: circular-progress-rotate-xl 1.4s ease-in-out infinite;
}

@keyframes circular-progress-rotate-xl {
    0% {
        transform: rotate(-90deg);
        stroke-dasharray: 1, 350;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 160, 350;
        stroke-dashoffset: -60;
    }
    100% {
        transform: rotate(-90deg);
        stroke-dasharray: 160, 350;
        stroke-dashoffset: -220;
    }
}

/* ===== Size Variants ===== */
/* Size dimensions are handled via JavaScript for precise SVG sizing */

/* ===== Speed Variants ===== */
.circular-progress-slow .circular-progress-bar,
.circular-progress-slow .circular-progress-default .circular-progress-bar {
    animation-duration: 2.4s;
}

.circular-progress-default-speed .circular-progress-bar,
.circular-progress-default-speed .circular-progress-default .circular-progress-bar {
    animation-duration: 1.4s;
}

.circular-progress-fast .circular-progress-bar,
.circular-progress-fast .circular-progress-default .circular-progress-bar {
    animation-duration: 0.8s;
}

/* Speed variants for size-specific animations */
.circular-progress-slow.circular-progress-small .circular-progress-bar {
    animation: circular-progress-rotate-small 2.4s ease-in-out infinite;
}

.circular-progress-fast.circular-progress-small .circular-progress-bar {
    animation: circular-progress-rotate-small 0.8s ease-in-out infinite;
}

.circular-progress-slow.circular-progress-large .circular-progress-bar {
    animation: circular-progress-rotate-large 2.4s ease-in-out infinite;
}

.circular-progress-fast.circular-progress-large .circular-progress-bar {
    animation: circular-progress-rotate-large 0.8s ease-in-out infinite;
}

.circular-progress-slow.circular-progress-xl .circular-progress-bar {
    animation: circular-progress-rotate-xl 2.4s ease-in-out infinite;
}

.circular-progress-fast.circular-progress-xl .circular-progress-bar {
    animation: circular-progress-rotate-xl 0.8s ease-in-out infinite;
}

/* ===== Color Variants ===== */
.circular-progress-primary .circular-progress-bar {
    stroke: var(--primary-color);
}

.circular-progress-secondary .circular-progress-bar {
    stroke: var(--secondary-color);
}

.circular-progress-tertiary .circular-progress-bar {
    stroke: var(--tertiary-color);
}

.circular-progress-success .circular-progress-bar {
    stroke: var(--success-color);
}

.circular-progress-warning .circular-progress-bar {
    stroke: var(--warning-color);
}

.circular-progress-error .circular-progress-bar {
    stroke: var(--error-color);
}

/* ===== JustifySelf utility classes ===== */
.circular-progress.justify-self-auto {
    justify-self: auto;
}

.circular-progress.justify-self-start {
    justify-self: start;
}

.circular-progress.justify-self-end {
    justify-self: end;
}

.circular-progress.justify-self-center {
    justify-self: center;
}

.circular-progress.justify-self-stretch {
    justify-self: stretch;
}

/* ===== Alternative Animation Variants ===== */
/* You can add more animation styles here for different effects */

/* Pulsing effect variant */
.circular-progress.pulse .circular-progress-bar {
    animation: circular-progress-pulse 1.5s ease-in-out infinite;
}

@keyframes circular-progress-pulse {
    0%, 100% {
        opacity: 1;
        transform: rotate(-90deg) scale(1);
    }
    50% {
        opacity: 0.7;
        transform: rotate(-90deg) scale(1.1);
    }
}

/* Dash growing/shrinking effect */
.circular-progress.dash .circular-progress-bar {
    animation: circular-progress-dash 2s linear infinite;
}

@keyframes circular-progress-dash {
    0% {
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -35;
    }
    100% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -124;
    }
}

/* Spinner effect - continuous rotation */
.circular-progress.spinner .circular-progress-bar {
    animation: circular-progress-spin 1s linear infinite;
}

@keyframes circular-progress-spin {
    from {
        transform: rotate(-90deg);
    }
    to {
        transform: rotate(270deg);
    }
}
